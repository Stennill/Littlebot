<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LittleBot</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <div id="bot">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="Glowing HUD orb eye" class="orbRoot">
        <defs>
          <radialGradient id="gCyanGlow" cx="50%" cy="50%" r="55%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="1"/>
            <stop offset="22%" stop-color="#dffcff" stop-opacity="0.98"/>
            <stop offset="55%" stop-color="#58ecff" stop-opacity="0.90"/>
            <stop offset="100%" stop-color="#0a6bff" stop-opacity="0"/>
          </radialGradient>
          <radialGradient id="sphereFill" cx="42%" cy="38%" r="70%">
            <stop offset="0%" stop-color="#bdf7ff" stop-opacity="0.95"/>
            <stop offset="35%" stop-color="#49e6ff" stop-opacity="0.85"/>
            <stop offset="70%" stop-color="#0aa4ff" stop-opacity="0.55"/>
            <stop offset="100%" stop-color="#001a6a" stop-opacity="0.25"/>
          </radialGradient>
          <linearGradient id="rimStroke" x1="15%" y1="10%" x2="85%" y2="90%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.95"/>
            <stop offset="18%" stop-color="#7cf3ff" stop-opacity="0.95"/>
            <stop offset="55%" stop-color="#1aaeff" stop-opacity="0.9"/>
            <stop offset="100%" stop-color="#0048ff" stop-opacity="0.85"/>
          </linearGradient>
          <linearGradient id="rimInner" x1="10%" y1="20%" x2="90%" y2="80%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.7"/>
            <stop offset="45%" stop-color="#62ecff" stop-opacity="0.6"/>
            <stop offset="100%" stop-color="#0070ff" stop-opacity="0.45"/>
          </linearGradient>
          <radialGradient id="scleraWhite" cx="45%" cy="42%" r="70%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="1"/>
            <stop offset="55%" stop-color="#f6feff" stop-opacity="0.95"/>
            <stop offset="100%" stop-color="#a9f6ff" stop-opacity="0.65"/>
          </radialGradient>
          <radialGradient id="irisRing" cx="45%" cy="40%" r="75%">
            <stop offset="0%" stop-color="#cfffff" stop-opacity="0.9"/>
            <stop offset="40%" stop-color="#67efff" stop-opacity="0.95"/>
            <stop offset="78%" stop-color="#09a8ff" stop-opacity="0.9"/>
            <stop offset="100%" stop-color="#0040ff" stop-opacity="0.55"/>
          </radialGradient>
          <radialGradient id="pGlow" cx="50%" cy="50%" r="60%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.95"/>
            <stop offset="45%" stop-color="#7cf3ff" stop-opacity="0.75"/>
            <stop offset="100%" stop-color="#00bfff" stop-opacity="0"/>
          </radialGradient>
          <filter id="outerGlow" x="-60%" y="-60%" width="220%" height="220%">
            <feGaussianBlur stdDeviation="10" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="softGlow" x="-60%" y="-60%" width="220%" height="220%">
            <feGaussianBlur stdDeviation="6" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="eyeGlow" x="-60%" y="-60%" width="220%" height="220%">
            <feGaussianBlur stdDeviation="2.6" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="particleGlow" x="-120%" y="-120%" width="340%" height="340%">
            <feGaussianBlur stdDeviation="2.2" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <filter id="shimmer" x="-50%" y="-50%" width="200%" height="200%">
            <feTurbulence type="fractalNoise" baseFrequency="0.018" numOctaves="2" seed="8" result="n">
              <animate attributeName="baseFrequency" dur="4.8s" values="0.015;0.022;0.015" repeatCount="indefinite"/>
            </feTurbulence>
            <feColorMatrix in="n" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.55 0" result="a"/>
            <feComposite in="a" in2="SourceGraphic" operator="in" result="c"/>
            <feGaussianBlur in="c" stdDeviation="1.4" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
          <clipPath id="clipSphere"><circle cx="256" cy="256" r="130"/></clipPath>
          <clipPath id="eyeOpeningClip" clipPathUnits="userSpaceOnUse">
            <g id="eyeLid" class="eyeLid"><rect x="168" y="210" width="176" height="92" rx="46" ry="46"/></g>
          </clipPath>
        </defs>
        <style>
          .orb{transform-origin:256px 256px}
          .halo{animation:haloBreath 2.2s ease-in-out infinite;opacity:0.9}
          .rim{animation:rimPulse 2.4s ease-in-out infinite}
          .eyeAim{transform-origin:256px 256px;animation:look 6.5s ease-in-out infinite}
          .doBlink .eyeLid{animation:blink 180ms ease-in-out 1}
          .particles{mix-blend-mode:screen;opacity:0.9}
          .particles .p{opacity:0.7}
          @keyframes haloBreath{0%,100%{transform:scale(1);opacity:0.55}50%{transform:scale(1.08);opacity:0.75}}
          @keyframes rimPulse{0%,100%{opacity:0.95}50%{opacity:0.75}}
          @keyframes look{0%{transform:translate(0px,0px)}18%{transform:translate(7px,-3px)}35%{transform:translate(-6px,4px)}55%{transform:translate(5px,6px)}72%{transform:translate(-4px,-5px)}100%{transform:translate(0px,0px)}}
          @keyframes blink{0%{transform:scaleY(1)}35%{transform:scaleY(0.06)}55%{transform:scaleY(0.06)}100%{transform:scaleY(1)}}
        </style>
        <g class="orb halo" filter="url(#outerGlow)"><circle cx="256" cy="256" r="162" fill="url(#gCyanGlow)" opacity="0.55"/></g>
        <g class="orb">
          <circle cx="256" cy="256" r="130" fill="url(#sphereFill)" opacity="0.92" filter="url(#softGlow)"/>
          <g class="particles" clip-path="url(#clipSphere)" filter="url(#particleGlow)">
            <circle class="p" r="7" fill="url(#pGlow)">
              <animate attributeName="cx" dur="6.2s" repeatCount="indefinite" values="210;320;240;300;210"/>
              <animate attributeName="cy" dur="6.2s" repeatCount="indefinite" values="250;235;310;275;250"/>
              <animate attributeName="opacity" dur="2.1s" repeatCount="indefinite" values="0.2;0.8;0.3;0.75;0.2"/>
            </circle>
            <circle class="p" r="4" fill="url(#pGlow)">
              <animate attributeName="cx" dur="4.8s" repeatCount="indefinite" values="290;240;330;260;290"/>
              <animate attributeName="cy" dur="4.8s" repeatCount="indefinite" values="220;300;280;240;220"/>
              <animate attributeName="opacity" dur="1.7s" repeatCount="indefinite" values="0.1;0.7;0.2;0.65;0.1"/>
            </circle>
            <circle class="p" r="5" fill="url(#pGlow)">
              <animate attributeName="cx" dur="7.1s" repeatCount="indefinite" values="240;200;280;220;240"/>
              <animate attributeName="cy" dur="7.1s" repeatCount="indefinite" values="310;250;230;285;310"/>
              <animate attributeName="opacity" dur="2.4s" repeatCount="indefinite" values="0.15;0.6;0.25;0.7;0.15"/>
            </circle>
            <circle class="p" r="3.5" fill="url(#pGlow)">
              <animate attributeName="cx" dur="5.6s" repeatCount="indefinite" values="310;275;220;295;310"/>
              <animate attributeName="cy" dur="5.6s" repeatCount="indefinite" values="300;220;260;320;300"/>
              <animate attributeName="opacity" dur="1.9s" repeatCount="indefinite" values="0.2;0.85;0.25;0.7;0.2"/>
            </circle>
            <circle class="p" r="2.8" fill="url(#pGlow)">
              <animate attributeName="cx" dur="3.9s" repeatCount="indefinite" values="225;260;235;285;225"/>
              <animate attributeName="cy" dur="3.9s" repeatCount="indefinite" values="235;260;310;275;235"/>
              <animate attributeName="opacity" dur="1.4s" repeatCount="indefinite" values="0.15;0.55;0.2;0.6;0.15"/>
            </circle>
            <circle class="p" r="6" fill="url(#pGlow)">
              <animate attributeName="cx" dur="8.0s" repeatCount="indefinite" values="260;340;280;210;260"/>
              <animate attributeName="cy" dur="8.0s" repeatCount="indefinite" values="210;270;325;290;210"/>
              <animate attributeName="opacity" dur="2.8s" repeatCount="indefinite" values="0.05;0.55;0.15;0.7;0.05"/>
            </circle>
            <circle r="2" fill="#ffffff" opacity="0.6">
              <animate attributeName="cx" dur="2.8s" repeatCount="indefinite" values="235;310;260;235"/>
              <animate attributeName="cy" dur="2.8s" repeatCount="indefinite" values="260;245;320;260"/>
              <animate attributeName="opacity" dur="1.2s" repeatCount="indefinite" values="0.0;0.6;0.2;0.0"/>
            </circle>
            <circle r="1.8" fill="#dffcff" opacity="0.5">
              <animate attributeName="cx" dur="3.3s" repeatCount="indefinite" values="300;230;280;300"/>
              <animate attributeName="cy" dur="3.3s" repeatCount="indefinite" values="280;305;230;280"/>
              <animate attributeName="opacity" dur="1.1s" repeatCount="indefinite" values="0.0;0.55;0.15;0.0"/>
            </circle>
            <circle r="2.2" fill="#bdf7ff" opacity="0.55">
              <animate attributeName="cx" dur="3.9s" repeatCount="indefinite" values="210;260;340;210"/>
              <animate attributeName="cy" dur="3.9s" repeatCount="indefinite" values="290;220;275;290"/>
              <animate attributeName="opacity" dur="1.3s" repeatCount="indefinite" values="0.0;0.65;0.25;0.0"/>
            </circle>
          </g>
          <g clip-path="url(#clipSphere)" filter="url(#shimmer)" opacity="0.40">
            <path d="M110 250 C170 220,220 220,300 250 S420 280,470 250" fill="none" stroke="#bdf7ff" stroke-width="10" stroke-linecap="round" opacity="0.22"/>
            <path d="M120 285 C190 255,245 260,315 290 S410 330,470 300" fill="none" stroke="#7cf3ff" stroke-width="8" stroke-linecap="round" opacity="0.18"/>
            <path d="M140 215 C210 195,260 200,330 228 S420 270,462 235" fill="none" stroke="#ffffff" stroke-width="6" stroke-linecap="round" opacity="0.14"/>
          </g>
          <g class="rim" filter="url(#softGlow)">
            <circle cx="256" cy="256" r="134" fill="none" stroke="url(#rimStroke)" stroke-width="10" opacity="0.95"/>
            <circle cx="256" cy="256" r="124" fill="none" stroke="url(#rimInner)" stroke-width="4" opacity="0.65"/>
          </g>
          <g clip-path="url(#eyeOpeningClip)" filter="url(#eyeGlow)">
            <ellipse cx="256" cy="256" rx="92" ry="56" fill="url(#scleraWhite)" opacity="0.98"/>
            <ellipse cx="256" cy="240" rx="98" ry="40" fill="#ffffff" opacity="0.10"/>
            <ellipse cx="256" cy="276" rx="98" ry="40" fill="#001a6a" opacity="0.10"/>
            <g class="eyeAim">
              <circle cx="256" cy="258" r="34" fill="url(#irisRing)" opacity="0.92"/>
              <circle cx="256" cy="258" r="22" fill="none" stroke="#eaffff" stroke-width="5" opacity="0.55"/>
              <circle cx="256" cy="258" r="12.5" fill="#061b3a" opacity="0.78"/>
              <circle cx="256" cy="258" r="6.5" fill="#000612" opacity="0.65"/>
              <ellipse cx="245" cy="246" rx="10" ry="6" fill="#ffffff" opacity="0.65"/>
              <circle cx="250" cy="252" r="3" fill="#ffffff" opacity="0.35"/>
            </g>
            <rect x="168" y="210" width="176" height="92" rx="46" ry="46" fill="none" stroke="#ffffff" stroke-width="3" opacity="0.10"/>
          </g>
          <circle cx="256" cy="256" r="96" fill="url(#gCyanGlow)" opacity="0.18"/>
        </g>
        <script>
          (function(){const svg=document.currentScript&&document.currentScript.ownerSVGElement;if(!svg)return;const minMs=1600,maxMs=5200;function schedule(){const t=minMs+Math.random()*(maxMs-minMs);setTimeout(()=>{svg.classList.add('doBlink');setTimeout(()=>svg.classList.remove('doBlink'),260);if(Math.random()<0.12){setTimeout(()=>{svg.classList.add('doBlink');setTimeout(()=>svg.classList.remove('doBlink'),260)},220+Math.random()*260)}schedule()},t)}schedule()})();
        </script>
      </svg>
    </div>

    <div id="panel">
      <div id="messages"></div>
      <div id="controls">
        <input id="input" placeholder="Ask me anything..." autocomplete="off" />
        <button id="send" title="Send">→</button>
        <button id="settingsBtn" title="Settings">⚙️</button>
      </div>
    </div>
  </div>

  <div id="settingsModal" class="hidden">
    <div class="modalInner">
      <h3>Settings</h3>
      <label>Anthropic API Key</label>
      <input id="apiKeyInput" placeholder="Paste your Anthropic key" />
      <label>Anthropic-Version (optional)</label>
      <input id="anthropicVersionInput" placeholder="e.g. 2024-04-01" />
      <label>Anthropic Model (optional)</label>
      <input id="anthropicModelInput" placeholder="e.g. claude-sonnet-4-5-20250929" />
      <label>Voice</label>
      <select id="voiceSelect"></select>
      <label>Rate <span id="rateVal">1.0</span></label>
      <input id="rateInput" type="range" min="0.5" max="2" step="0.1" value="1" />
      <label>Pitch <span id="pitchVal">1.0</span></label>
      <input id="pitchInput" type="range" min="0.5" max="2" step="0.1" value="1" />
      <label>Volume <span id="volumeVal">1.0</span></label>
      <input id="volumeInput" type="range" min="0" max="1" step="0.1" value="1" />
      <button id="testVoice">Test Voice</button>
      <div class="modalActions">
        <button id="saveApiKey">Save</button>
        <button id="clearHistory">Clear History</button>
        <button id="closeSettings">Close</button>
        <button id="probeApi">Probe API</button>
      </div>
      <div id="settingsStatus"></div>
      <pre id="probeResult" class="hidden"></pre>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
