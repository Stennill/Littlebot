<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>LittleBot Settings</title>
  <style>
    :root {
      /* Keep Settings consistent with renderer/styles.css tokens */
      --bg-primary: #1a1d24;
      --bg-secondary: #22262e;
      --surface: rgba(255, 255, 255, 0.04);
      --surface-elevated: rgba(255, 255, 255, 0.06);
      --accent: rgba(0, 212, 255, 0.9);
      --accent-muted: rgba(0, 200, 255, 0.6);
      --accent-success: rgba(134, 239, 172, 0.9);
      --accent-warm: rgba(251, 191, 36, 0.9);
      --text-primary: rgba(248, 250, 252, 0.98);
      --text-secondary: rgba(203, 213, 225, 0.9);
      --text-tertiary: rgba(148, 163, 184, 0.85);
      --color-alert: #f87171;
      --radius: 10px;
      --radius-sm: 8px;
      --space: 8px;
      --space-lg: 16px;
      --divider-color: rgba(255, 255, 255, 0.12);
      --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.35);
      --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }

    body.theme-light {
      --bg-primary: #f1f5f9;
      --bg-secondary: #e2e8f0;
      --surface: rgba(0, 0, 0, 0.03);
      --surface-elevated: rgba(0, 0, 0, 0.06);
      --accent: rgba(14, 165, 233, 0.95);
      --accent-muted: rgba(14, 165, 233, 0.7);
      --accent-success: rgba(34, 197, 94, 0.9);
      --accent-warm: rgba(245, 158, 11, 0.9);
      --text-primary: rgba(15, 23, 42, 0.95);
      --text-secondary: rgba(71, 85, 105, 0.9);
      --text-tertiary: rgba(100, 116, 139, 0.85);
      --color-alert: #dc2626;
      --divider-color: rgba(0, 0, 0, 0.1);
      --shadow-soft: 0 8px 24px rgba(0, 0, 0, 0.12);
    }

    * { scrollbar-width: none; }
    *::-webkit-scrollbar { display: none; }

    html, body {
      height: 100%;
      margin: 0;
      width: 100%;
      font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    body {
      padding: var(--space-lg);
      box-sizing: border-box;
      overflow: auto;
    }

    .container {
      max-width: 520px;
      margin: 0 auto;
      background: var(--surface);
      border: 1px solid var(--divider-color);
      border-radius: 12px;
      padding: var(--space-lg);
      box-shadow: var(--shadow-soft);
      backdrop-filter: blur(10px);
    }

    .page-title {
      margin: 0 0 4px 0;
      font-size: 14px;
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text-primary);
    }

    .page-subtitle {
      margin: 0 0 var(--space-lg) 0;
      font-size: 12px;
      color: var(--text-tertiary);
      line-height: 1.4;
    }

    .section {
      padding: var(--space-lg);
      border-radius: 12px;
      background: var(--surface-elevated);
      border: 1px solid var(--divider-color);
    }

    .section + .section {
      margin-top: var(--space-lg);
    }

    .section-title {
      margin: 0 0 10px 0;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: var(--text-secondary);
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .field + .field {
      margin-top: 12px;
    }

    .label {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.02em;
      color: var(--text-secondary);
    }

    input, select, textarea {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--divider-color);
      background: rgba(0, 0, 0, 0.12);
      color: var(--text-primary);
      font-size: 12px;
      box-sizing: border-box;
      font-family: inherit;
      transition: border-color var(--transition), box-shadow var(--transition), background var(--transition);
      outline: none;
    }

    body.theme-light input,
    body.theme-light select,
    body.theme-light textarea {
      background: rgba(255, 255, 255, 0.9);
    }

    input:focus, select:focus, textarea:focus {
      border-color: rgba(0, 212, 255, 0.6);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.12);
    }

    .button-row {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }

    .button-row.two {
      margin-top: var(--space);
    }

    button {
      flex: 1;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--divider-color);
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: transform var(--transition), box-shadow var(--transition), background var(--transition), color var(--transition);
      font-family: inherit;
      background: rgba(255, 255, 255, 0.04);
      color: var(--text-primary);
    }

    button:hover { transform: translateY(-1px); }
    button:active { transform: translateY(0px); }

    button.primary {
      border-color: rgba(0, 212, 255, 0.35);
      background: linear-gradient(135deg, rgba(0, 212, 255, 0.22), rgba(0, 212, 255, 0.08));
      box-shadow: 0 8px 20px rgba(0, 212, 255, 0.08);
    }

    button.secondary {
      background: rgba(255, 255, 255, 0.03);
      color: var(--text-secondary);
    }

    button.danger {
      border-color: rgba(248, 113, 113, 0.35);
      background: rgba(248, 113, 113, 0.12);
      color: var(--text-primary);
    }

    .status {
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 600;
      text-align: center;
      border: 1px solid var(--divider-color);
      background: rgba(255, 255, 255, 0.03);
      color: var(--text-secondary);
    }

    .status.success {
      border-color: rgba(134, 239, 172, 0.25);
      background: rgba(134, 239, 172, 0.08);
      color: var(--text-primary);
    }

    .status.error {
      border-color: rgba(248, 113, 113, 0.25);
      background: rgba(248, 113, 113, 0.08);
      color: var(--text-primary);
    }

    .status.hidden { display: none; }

    pre {
      margin: 10px 0 0 0;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--divider-color);
      background: rgba(0, 0, 0, 0.18);
      color: var(--text-secondary);
      overflow: auto;
      max-height: 220px;
      font-size: 11px;
      line-height: 1.5;
    }

    .help {
      margin: 6px 0 0 0;
      font-size: 11px;
      color: var(--text-tertiary);
      line-height: 1.4;
    }

    .debug-status {
      font-size: 11px;
      color: var(--text-secondary);
      font-family: ui-monospace, monospace;
      margin-bottom: 6px;
      line-height: 1.4;
    }
    .debug-status .hidden { display: none; }
    .debug-status .error { color: var(--color-alert); }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="page-title">Settings</h2>
    <p class="page-subtitle">Keys, integrations, and preferences.</p>

    <div class="section">
      <h3 class="section-title">Core</h3>

      <div class="field">
        <div class="label">Anthropic API Key</div>
        <input id="apiKeyInput" type="password" placeholder="sk-ant-..." />
      </div>

      <div class="field">
        <div class="label">Anthropic Version (optional)</div>
        <input id="anthropicVersionInput" placeholder="2023-06-01" />
      </div>

      <div class="field">
        <div class="label">Anthropic Model (optional)</div>
        <input id="anthropicModelInput" placeholder="claude-3-haiku-20240307" />
      </div>

      <div class="field">
        <div class="label">Theme</div>
        <select id="themeSelect">
          <option value="dark">Dark</option>
          <option value="light">Light</option>
        </select>
      </div>
    </div>

    <div class="section">
      <h3 class="section-title">Integrations</h3>

      <div class="field">
        <div class="label">Slack Webhook URL (optional)</div>
        <input id="slackWebhookInput" type="text" placeholder="https://hooks.slack.com/services/..." />
      </div>

      <div class="field">
        <div class="label">Notion API Key (optional)</div>
        <input id="notionApiKeyInput" type="password" placeholder="secret_..." />
      </div>

      <div class="field">
        <div class="label">Notion Database ID (optional)</div>
        <input id="notionDatabaseIdInput" type="text" placeholder="abc123..." />
      </div>
    </div>

    <div class="section">
      <h3 class="section-title">Actions</h3>

      <div class="button-row">
        <button class="primary" id="saveBtn">Save</button>
        <button class="secondary" id="probeApiBtn">Test API</button>
      </div>

      <div class="button-row two">
        <button class="danger" id="clearHistoryBtn">Clear History</button>
        <button class="secondary" id="closeBtn">Close</button>
      </div>

      <div id="status" class="status hidden"></div>
      <pre id="probeResult" class="hidden"></pre>
    </div>

    <div class="section">
      <h3 class="section-title">Debug Log</h3>
      <div id="debug-status" class="debug-status">
        <span id="debug-last-status">—</span>
        <span id="debug-last-error" class="hidden">—</span>
      </div>
      <div class="button-row two">
        <button class="secondary" id="debug-copy">Copy Logs</button>
        <button class="secondary" id="debug-clear">Clear</button>
      </div>
      <pre id="debug-log"></pre>
    </div>
  </div>
  
  <script src="settings.js"></script>
</body>
</html>
